<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ¬∑ Mini-App</title>
  <link rel="stylesheet" href="panel.css"/>
  <script>
    // –∞–¥—Ä–µ—Å Cloudflare Worker —Å API –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
    window.CTOR_API_BASE = 'https://build-apps.cyberian13.workers.dev';
  </script>
</head>
<body class="theme-light">
  <div class="app">
    <aside class="side">
      <div class="side__top">
        <a href="#" class="brand">
          <div class="brand__logo">
            <span>SG</span>
          </div>
          <div class="brand__txt">
            <div class="brand__title">SalesGenius</div>
            <div class="brand__sub">Mini-App Studio</div>
          </div>
        </a>

        <nav class="side__nav" id="sideNav">
          <button class="side__item is-active" data-view="constructor">
            <span class="side__ico">üß©</span>
            <span class="side__label">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</span>
          </button>
          <button class="side__item" data-view="apps">
            <span class="side__ico">üì±</span>
            <span class="side__label">–ú–æ–∏ –º–∏–Ω–∏-–∞–ø–ø—ã</span>
          </button>
          <button class="side__item" data-view="settings">
            <span class="side__ico">‚öôÔ∏è</span>
            <span class="side__label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
          </button>
        </nav>
      </div>

      <div class="side__bottom">
        <button class="side__item side__item--ghost" id="themeSwitch">
          <span class="side__ico">üåó</span>
          <span class="side__label">–¢–µ–º–∞</span>
        </button>
      </div>
    </aside>

    <main class="main">
      <header class="main__hdr">
        <div class="main__titles">
          <h1 class="main__title" id="pageTitle">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–∏–Ω–∏-–∞–ø–ø–∞</h1>
          <p class="main__sub" id="pageSub">–°–æ–±–∏—Ä–∞–π, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π –∏ –ø—É–±–ª–∏–∫—É–π Telegram mini-apps.</p>
        </div>
        <div class="main__actions">
          <button class="btn btn--ghost" id="openPreview">
            –û—Ç–∫—Ä—ã—Ç—å –∫–∞–∫ –≤ –¢–µ–ª–µ–≥–µ
          </button>
        </div>
      </header>

      <div class="views" id="views">
        <!-- VIEW: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä -->
        <section class="view is-show" data-view="constructor">
          <div class="ctor-wrap" id="ctorWrap">
            <iframe
              id="ctorFrame"
              class="ctor-frame"
              src="miniapp_sections_fixed2/app/index.html?preview=draft&embed=1"
              frameborder="0"
            ></iframe>
          </div>
        </section>

        <!-- VIEW: –ú–æ–∏ –º–∏–Ω–∏-–∞–ø–ø—ã -->
        <section class="view" data-view="apps">
          <div class="cards-grid" id="appsList">
            <div class="empty">
              <div class="empty__title">–°–ø–∏—Å–æ–∫ –º–∏–Ω–∏-–∞–ø–ø–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è —á—É—Ç—å –ø–æ–∑–∂–µ</div>
              <div class="empty__sub">–°–µ–π—á–∞—Å –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–∏–º —Ç–µ—Å—Ç–æ–≤—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.</div>
            </div>
          </div>
        </section>

        <!-- VIEW: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <section class="view" data-view="settings">
          <div class="settings">
            <div class="tabs" id="settingsTabs">
              <button class="tabs__btn is-active" data-tab="base">–ë–∞–∑–æ–≤—ã–µ</button>
              <button class="tabs__btn" data-tab="fallbacks">Fallback-—Å—Ç—Ä–∞–Ω–∏—Ü—ã</button>
              <button class="tabs__btn" data-tab="integrations">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</button>
            </div>

            <!-- –ë–ª–æ–∫: –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="card" id="tab_base">
              <div class="card__hdr">
                <div>
                  <div class="card__title">–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                  <div class="card__sub">–ò–º—è –º–∏–Ω–∏-–∞–ø–ø–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.</div>
                </div>
              </div>

              <div class="form">
                <div class="form__cols">
                  <label class="field">
                    <span class="field__label">–ù–∞–∑–≤–∞–Ω–∏–µ –º–∏–Ω–∏-–∞–ø–ø–∞</span>
                    <input class="input" id="appName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, Craft Beer Club"/>
                  </label>

                  <label class="field">
                    <span class="field__label">–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</span>
                    <input class="input" id="appDesc" placeholder="–°–æ–±–∏—Ä–∞–π —à—Ç–∞–º–ø—ã, –∫—Ä—É—Ç–∏ –∫–æ–ª–µ—Å–æ, –∑–∞–±–∏—Ä–∞–π –ø—Ä–∏–∑—ã"/>
                  </label>
                </div>

                <label class="field field--inline">
                  <input type="checkbox" id="appDevMode"/>
                  <span>–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º)</span>
                </label>

                <div class="form__row">
                  <button type="button" class="btn btn--primary" id="saveBase">
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                  </button>
                  <div class="mut" id="baseSavedHint"></div>
                </div>
              </div>
            </div>

            <!-- –ë–ª–æ–∫: fallbacks -->
            <div class="card" id="tab_fallbacks" hidden>
              <div class="card__hdr">
                <div>
                  <div class="card__title">Fallback-—Å—Ç—Ä–∞–Ω–∏—Ü—ã</div>
                  <div class="card__sub">–ß—Ç–æ –≤–∏–¥–µ—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –µ—Å–ª–∏ –º–∏–Ω–∏-–∞–ø–ø –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.</div>
                </div>
              </div>

              <div class="form">
                <label class="field">
                  <span class="field__label">–¢–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Ö, —É –∫–æ–≥–æ —Å—Ç–∞—Ä—ã–π Telegram</span>
                  <textarea class="input input--area" id="fallbackOld">–û–±–Ω–æ–≤–∏—Ç–µ Telegram –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–∞–ø–ø.</textarea>
                </label>

                <label class="field">
                  <span class="field__label">–¢–µ–∫—Å—Ç –ø—Ä–∏ —Ç–µ—Ö. —Ä–∞–±–æ—Ç–∞—Ö</span>
                  <textarea class="input input--area" id="fallbackMaintenance">–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –º—ã —É–∂–µ –≤—Å—ë —á–∏–Ω–∏–º üíô</textarea>
                </label>

                <div class="form__row">
                  <button type="button" class="btn btn--primary" id="saveFallbacks">
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å fallback-—Ç–µ–∫—Å—Ç—ã
                  </button>
                  <div class="mut" id="fallbacksHint"></div>
                </div>
              </div>
            </div>

            <!-- –ë–ª–æ–∫: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Telegram-–±–æ—Ç) -->
            <div class="card" id="tab_integrations" hidden>
              <div class="card__hdr">
                <div>
                  <div class="card__title">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</div>
                  <div class="card__sub">–ü–æ–¥–∫–ª—é—á–∏ Telegram-–±–æ—Ç–∞ –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏–∑–æ–≤ –∏ –∫—ç—à–±—ç–∫–∞.</div>
                </div>
                <div class="pill pill--muted" id="botStatusPill">–ù–µ –ø–æ–¥–∫–ª—é—á—ë–Ω</div>
              </div>

              <div class="form">
                <div class="form__cols">
                  <label class="field">
                    <span class="field__label">–ò–º—è –±–æ—Ç–∞</span>
                    <input id="tgBotUsername" class="input" placeholder="@my_shop_bot">
                    <small class="mut">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞. –ù–∞—Å—Ç–æ—è—â–∞—è —Å–≤—è–∑–∫–∞ –¥–µ–ª–∞–µ—Ç—Å—è –ø–æ —Ç–æ–∫–µ–Ω—É.</small>
                  </label>

                  <label class="field">
                    <span class="field__label">–¢–æ–∫–µ–Ω –±–æ—Ç–∞ (BotFather)</span>
                    <input id="tgBotToken" class="input" type="password" autocomplete="off" placeholder="123456:ABC-DEF...">
                    <small class="mut">–¢–æ–∫–µ–Ω —à–∏—Ñ—Ä—É–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ —Ü–µ–ª–∏–∫–æ–º.</small>
                  </label>
                </div>

                <div class="form__row" style="margin-top:12px; align-items:center; gap:12px;">
                  <button type="button" class="btn btn--primary" id="saveBotToken">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é</button>
                  <div class="mut" id="botSaveHint"></div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <script src="panel.js"></script>
</body>
</html>
