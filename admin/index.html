<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Конструктор Mini‑App</title>
  <style>
    body{margin:0;background:#0b0f16;color:#eaf2ff;font:14px/1.5 Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .layout{display:grid;grid-template-columns:420px 1fr;gap:16px;min-height:100vh;padding:16px}
    .panel{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden}
    .panel h3{margin:0;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.08)}
    .panel .body{padding:12px}
    #frame{width:100%;height:calc(100vh - 32px);border:0;border-radius:12px;background:#000}
    .row{display:grid;gap:8px;margin:10px 0}
    textarea{min-height:160px;width:100%;background:#0d1117;color:#cfe3ff;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px;font:12px/1.4 ui-monospace,Menlo,Consolas,monospace}
    input,select,button{height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.16);background:#0e1420;color:#eaf2ff;padding:0 10px}
    button.btn{background:#3d7eff;color:#fff;border:0;font-weight:800;cursor:pointer}
    .grid2{display:grid;grid-template-columns:1fr auto;gap:8px}
    .mut{opacity:.75;font-size:12px}
  </style>
</head>
<body>
  <div class="layout">
    <div class="panel">
      <h3>Шаг 0. Готовый шаблон</h3>
      <div class="body">
        <div class="row grid2">
          <select id="tpl_builtin">
            <option value="">— выбрать —</option>
            <option value="Beer Main">Beer Main</option>
            <option value="Demo Main">Demo Main</option>
            <option value="SalesGenius Main">SalesGenius Main</option>
          </select>
          <button id="tpl_apply" class="btn">Применить</button>
        </div>
        <div class="mut">Главная соберётся из HTML‑секций. Остальные вкладки: Турнир / Играть / Бонусы / Профиль.</div>
        <div class="row"><label>App ID <input id="app_id" placeholder="beer_demo_1" value="beer_demo_1"/></label></div>
        <div class="row"><label>API Base (URL воркера) <input id="api_base_input" placeholder="https://your-worker.workers.dev"/></label><div id="api_hint" class="mut"></div></div>
        <div class="row"><label>Доп. CSS темы</label><textarea id="theme_css" placeholder="/* Скопируй сюда theme_beer_main.css для 1:1 вида */"></textarea></div>
        <div class="row grid2"><button id="save_draft" class="btn">Создать черновик</button><button id="publish_btn" class="btn" style="background:#37d67a">Опубликовать</button></div>
      </div>
    </div>
    <div class="panel">
      <h3>Превью</h3>
      <div class="body"><div class="mut" id="prev_url"></div><iframe id="frame" title="Mini Preview"></iframe></div>
    </div>
  </div>
  <script src="templates.js"></script>
  <script src="templates.beer_main.js"></script>
  <script src="admin.v3.js"></script>
</body>
</html>
